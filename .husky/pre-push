#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running optimized pre-push validation..."

# Run optimized validation that skips redundant checks
echo "ğŸ” Running optimized validation..."
./scripts/pre-push-optimized.sh || {
    echo "âŒ Optimized validation failed"
    exit 1
}

# Check if Docker is available for additional E2E tests
if docker info >/dev/null 2>&1; then
    echo "ğŸ³ Docker available - E2E tests included in validation"
else
    echo "âš ï¸  Docker not available - E2E tests will run in CI pipeline"
fi

echo "âœ… Pre-push validation passed!"
