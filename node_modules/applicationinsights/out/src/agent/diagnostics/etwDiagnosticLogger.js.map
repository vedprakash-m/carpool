{"version":3,"file":"etwDiagnosticLogger.js","sourceRoot":"","sources":["../../../../src/agent/diagnostics/etwDiagnosticLogger.ts"],"names":[],"mappings":";AAAA,uCAAuC;AACvC,kCAAkC;;;AAGlC,iEAA8D;AAC9D,qDAAkD;AAGlD,MAAa,mBAAoB,SAAQ,2CAAoB;IAEzD,YAAY,kBAA0B;QAClC,KAAK,CAAC,kBAAkB,CAAC,CAAC;QAC1B,IAAI,CAAC,YAAY,GAAG,IAAI,uBAAU,EAAE,CAAC;IACzC,CAAC;IAEM,UAAU,CAAC,aAA6B;QAC3C,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QACrC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC;QAC7C,MAAM,OAAO,GAAW,aAAa,CAAC,OAAO,CAAC;QAC9C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC7C,CAAC;IAEO,YAAY;QAChB,2CAA2C;QAC3C,OAAO,CAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACrH,CAAC;CACN;AAlBD,kDAkBC","sourcesContent":["// Copyright (c) Microsoft Corporation.\r\n// Licensed under the MIT license.\r\n\r\nimport { IDiagnosticLog } from \"../types\";\r\nimport { BaseDiagnosticLogger } from \"./baseDiagnosticLogger\";\r\nimport { EtwWritter } from \"./writers/etwWritter\";\r\n\r\n\r\nexport class EtwDiagnosticLogger extends BaseDiagnosticLogger {\r\n\r\n    constructor(instrumentationKey: string) {\r\n        super(instrumentationKey);\r\n        this._agentLogger = new EtwWritter();\r\n    }\r\n\r\n    public logMessage(diagnosticLog: IDiagnosticLog) {\r\n        const metaData = this._getMetadata();\r\n        metaData.push(diagnosticLog.messageId || \"\");\r\n        const message: string = diagnosticLog.message;\r\n        this._agentLogger.log(message, metaData);\r\n    }\r\n\r\n    private _getMetadata(): [string, string, string, string, string] {\r\n        // Must return strings in this exact order!\r\n        return [ this._extensionVersion, this._subscriptionId, this._siteName, this._sdkVersion, this._instrumentationKey];\r\n      }\r\n}\r\n"]}